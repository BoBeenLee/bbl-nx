0:[[["",{"children":["blog",{"children":[["id","use-effect-event","d"],{"children":["",{}]}]}]},null,null,true],"$L1",["$L2",null]]]
3:I{"id":"4503","chunks":["730:730-f0f598528cc484dd","185:app/layout-9383bb0c60f86351"],"name":"ThemeProvider","async":false}
4:I{"id":"6864","chunks":["730:730-f0f598528cc484dd","185:app/layout-9383bb0c60f86351"],"name":"","async":false}
5:I{"id":"935","chunks":["272:webpack-43cb8370814af9a9","680:8866857e-0348eef442260c24","14:14-47fa5bfc81e5275e"],"name":"","async":false}
6:I{"id":"1227","chunks":["272:webpack-43cb8370814af9a9","680:8866857e-0348eef442260c24","14:14-47fa5bfc81e5275e"],"name":"","async":false}
7:I{"id":"5730","chunks":["730:730-f0f598528cc484dd","964:964-fb81438760ba2bf7","880:app/project/page-7f19be5b34bbfb13"],"name":"","async":false}
9:I{"id":"4743","chunks":["730:730-f0f598528cc484dd","185:app/layout-9383bb0c60f86351"],"name":"","async":false}
a:I{"id":"9505","chunks":["730:730-f0f598528cc484dd","185:app/layout-9383bb0c60f86351"],"name":"","async":false}
2:[[["$","meta",null,{"charSet":"utf-8"}],["$","title",null,{"children":"BoBeen Lee"}],["$","meta",null,{"name":"description","content":"Front-end developer, TypeScript enthusiast"}],null,null,null,null,["$","meta",null,{"name":"keywords","content":"BoBeen Lee, React, React Native, Typescript, Javascript"}],null,[["$","meta",null,{"name":"theme-color","content":"#111827"}]],null,["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1, shrink-to-fit=no"}],null,null,["$","meta",null,{"name":"robots","content":"follow, index"}],null,null,null,null,null,null,null,[]],[["$","link",null,{"rel":"canonical","href":"https://bbl-nx.vercel.app/"}],null,null,null],null,null,[null,null,null,null,null],null,[null,["$","meta",null,{"property":"og:title","content":"BoBeen Lee"}],["$","meta",null,{"property":"og:description","content":"Front-end developer, TypeScript enthusiast"}],["$","meta",null,{"property":"og:url","content":"https://bbl-nx.vercel.app/"}],["$","meta",null,{"property":"og:site_name","content":"BoBeen Lee"}],null,null,null,[[["$","meta",null,{"property":"og:image","content":"https://bbl-nx.vercel.app/assets/quokka.webp"}]]],null,null,null,null,null,null,["$","meta",null,{"property":"og:type","content":"website"}]],[["$","meta",null,{"name":"twitter:card","content":"summary_large_image"}],["$","meta",null,{"name":"twitter:site","content":"@BoBeenLee"}],null,["$","meta",null,{"name":"twitter:creator","content":"@BoBeenLee"}],null,["$","meta",null,{"name":"twitter:title","content":"BoBeen Lee"}],["$","meta",null,{"name":"twitter:description","content":"Front-end developer, TypeScript enthusiast"}],[[["$","meta",null,{"name":"twitter:image","content":"https://bbl-nx.vercel.app/assets/quokka.webp"}],null]],null,null],null,[null,[["$","link",null,{"rel":"icon","href":"/favicons/favicon.ico"}],["$","link",null,{"rel":"icon","href":"/favicons/apple-icon-180x180.png","sizes":"180x180"}],["$","link",null,{"rel":"icon","href":"/favicons/favicon-32x32.png","type":"image/png","sizes":"32x32"}],["$","link",null,{"rel":"icon","href":"/favicons/favicon-16x16.png","type":"image/png","sizes":"16x16"}],["$","link",null,{"rel":"icon","href":"/favicons/manifest.json"}],["$","link",null,{"rel":"icon","href":"/static/favicons/favicon.svg"}]],[],null]]
1:[["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":[null,["$","body",null,{"className":"text-white bg-white dark:bg-gray-900 dark:text-black","children":[["$","$L3",null,{"attribute":"class","defaultTheme":"system","enableSystem":true,"children":["$","div",null,{"className":"flex flex-col flex-1 bg-white dark:bg-gray-900","children":[["$","$L4",null,{}],["$","main",null,{"className":"flex flex-col justify-center flex-1 px-8 bg-white dark:bg-gray-900","children":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children"],"hasLoading":false,"template":["$","$L6",null,{}],"notFound":["$","div",null,{"className":"flex flex-col items-center w-full max-w-2xl py-12 mx-auto sm:py-20 sm:mb-16","children":[["$","h1",null,{"className":"font-bold text-3xl md:text-5xl tracking-tight mb-4 text-black dark:text-white","children":"Something went Wrong."}],["$","div",null,{"className":"mb-8 text-gray-600 dark:text-gray-400","children":"I'm guessing you spelled something wrong. Can you double check\n      that URL?"}],["$","$L7",null,{"className":"w-64 p-1 mx-auto font-bold text-center text-black bg-gray-200 rounded-md sm:p-4 dark:bg-gray-800 dark:text-white","href":"/","children":"Home"}]]}],"notFoundStyles":[],"childProp":{"current":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"hasLoading":false,"template":["$","$L6",null,{}],"childProp":{"current":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children",["id","use-effect-event","d"],"children"],"hasLoading":false,"template":["$","$L6",null,{}],"childProp":{"current":["$L8",null,null,[]],"segment":""}}],"segment":["id","use-effect-event","d"]}}],"segment":"blog"}}]}],["$","$L9",null,{}]]}]}],["$","$La",null,{"async":true,"strategy":"afterInteractive","src":"https://www.googletagmanager.com/gtag/js?id=G-TZZNKPFDD5"}],["$","$La",null,{"id":"gtag","async":true,"strategy":"afterInteractive","dangerouslySetInnerHTML":{"__html":"\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag(){dataLayer.push(arguments);}\ngtag('js', new Date());\n\ngtag('config', 'G-TZZNKPFDD5');\n      "}}]]}]]}],null,null,[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/7fc6f9585b0bc593.css","precedence":"next.js"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/be7ec14a9e7399cd.css","precedence":"next.js"}]]]
b:I{"id":"7964","chunks":["730:730-f0f598528cc484dd","964:964-fb81438760ba2bf7","880:app/project/page-7f19be5b34bbfb13"],"name":"","async":false}
8:["$","div",null,{"className":"flex flex-col items-start flex-1 w-full max-w-2xl mx-auto mb-8 border-gray-200 sm:mb-12 dark:border-gray-700","children":[["$","a",null,{"className":"pb-2 font-bold text-3xl tracking-tigh text-black dark:text-white","children":"React useEffectEvent란 무엇인가?"}],["$","div",null,{"className":"flex flex-row items-center justify-between w-full mt-2","children":[["$","div",null,{"className":"flex flex-row items-center","children":[["$","div",null,{"className":"w-6 h-6 relative rounded-full overflow-hidden","children":["$","$Lb",null,{"alt":"avatar","fill":true,"src":"/assets/quokka.png","priority":true}]}],["$","p",null,{"className":"ml-2 text-sm text-gray-600 dark:text-gray-400","children":"BoBeen Lee"}]]}],["$","p",null,{"className":"text-sm text-gray-600 dark:text-gray-400","children":"March 12, 2023"}]]}],["$","article",null,{"className":"w-full mt-4 prose dark:prose-dark max-w-none","dangerouslySetInnerHTML":{"__html":"<p>어떠한 메시지 이벤트 리스너를 구현한다면 useEffect내 이벤트 핸들러 구현을 진행합니다.\n그리고 roomId에 의존성을 추가하여 해당 값이 변경(reactive value)될때마다 다시 이벤트 리스너를 갱신할 것입니다.\n만일 theme과 같은 어떠한 속성 값이 추가되었을 경우, 동일하게 의존성을 추가하면 될것인가?</p>\n<pre><code>function useMessage(roomId) {\n// 1)\nuseEffect(() => {\n    const handleMemssage = (data) => {\n        // roomId를 이용한 어떠한 작업\n    };\n    window.addEventListener('message', handleMemssage)\n    return () => window.removeEventListener(handleMemssage)\n}, [roomId])\n\n// 2) or 3) useCallback 없이\nconst handleMemssage = useCallback((data) => {\n    // roomId를 이용한 어떠한 작업\n}, [roomId])\n\nuseEffect(() => {\n    window.addEventListener('message', handleMemssage)\n    return () => window.removeEventListener(handleMemssage)\n}, [handleMemssage])\n}\n</code></pre>\n<p>theme을 추가하게 되었을 경우 아래와 같이 의존성을 추가하게되는데 그럴 경우 theme이 변경될때마다 message 리스너가 제거되고 추가되면서 갱신됩니다.\n만일 어떤한 소켓 연결과같이 connected, disconnected의 비용이 있는 상태라면 비효율적으로 계속 갱신하는 상태가 될것입니다.\ntheme과 같이 이벤트 리스너(addEventListener, removeEventListener) effect엔 반응하지 않으면서 메시지핸들러 함수(handleMemssage)상태를 갱신할 수 있을까?</p>\n<pre><code>function useMessage(roomId, theme) {\n// 1)\nuseEffect(() => {\n    const handleMemssage = (data) => {\n        // roomId, theme를 이용한 어떠한 작업\n    };\n    // connected에 대한 비용이 있다라면 theme변경때마다 매번 add, remove하기에 퍼포먼스 측면에서 좋지 못해진다.\n    window.addEventListener('message', handleMemssage)\n    return () => window.removeEventListener(handleMemssage)\n}, [roomId, theme])\n}\n</code></pre>\n<p><a href=\"https://beta.reactjs.org/learn/separating-events-from-effects#\">beta.reactjs</a>에선 useEffectEvent 활용 방안에 대해 제시해줍니다.\n만일 이전 버젼을 사용하는 개발 코드라면? 아래와 같은 코드로 직접 useEffectEvent 훅 구현하여 활용할 수 있습니다.\n동작 원리는 ref참조 훅을 활용하여 함수 호출 구문을 기억하고 theme이 변경되었을 경우 refHandler.current함수를 갱신하여 클로저를 통해 이벤트 핸들러 함수 상태를 갱신하는 방법입니다.</p>\n<pre><code>function useEffectEvent(handler) {\n  const refHandler = useRef();\n\n  useEffect(() => {\n    refHandler.current = handler;\n  }, [handler]);\n\n  return (...args) => refHandler.current?.(...args);\n}\n</code></pre>\n<h2>Example</h2>\n<ul>\n<li><a href=\"https://codesandbox.io/s/useeffectevent-previous-version-6909tc?file=/App.js\">https://codesandbox.io/s/useeffectevent-previous-version-6909tc?file=/App.js</a></li>\n</ul>\n<h2>케이스</h2>\n<ul>\n<li>소켓, 메시지와 같이 이벤트 리스너와 이벤트 핸들러 effect 반응에 대한 분리를 해야하는 경우</li>\n</ul>\n<h2>Reference</h2>\n<ul>\n<li><a href=\"https://beta.reactjs.org/reference/react/useEffectEvent\">https://beta.reactjs.org/reference/react/useEffectEvent</a></li>\n</ul>\n"}}]]}]
