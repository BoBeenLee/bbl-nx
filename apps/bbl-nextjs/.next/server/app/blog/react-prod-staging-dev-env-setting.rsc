0:[[["",{"children":["blog",{"children":[["id","react-prod-staging-dev-env-setting","d"],{"children":["",{}]}]}]},null,null,true],"$L1",["$L2",null]]]
3:I{"id":"4503","chunks":["730:730-f0f598528cc484dd","185:app/layout-9383bb0c60f86351"],"name":"ThemeProvider","async":false}
4:I{"id":"6864","chunks":["730:730-f0f598528cc484dd","185:app/layout-9383bb0c60f86351"],"name":"","async":false}
5:I{"id":"935","chunks":["272:webpack-43cb8370814af9a9","680:8866857e-0348eef442260c24","14:14-47fa5bfc81e5275e"],"name":"","async":false}
6:I{"id":"1227","chunks":["272:webpack-43cb8370814af9a9","680:8866857e-0348eef442260c24","14:14-47fa5bfc81e5275e"],"name":"","async":false}
7:I{"id":"5730","chunks":["730:730-f0f598528cc484dd","964:964-fb81438760ba2bf7","880:app/project/page-7f19be5b34bbfb13"],"name":"","async":false}
9:I{"id":"4743","chunks":["730:730-f0f598528cc484dd","185:app/layout-9383bb0c60f86351"],"name":"","async":false}
a:I{"id":"9505","chunks":["730:730-f0f598528cc484dd","185:app/layout-9383bb0c60f86351"],"name":"","async":false}
2:[[["$","meta",null,{"charSet":"utf-8"}],["$","title",null,{"children":"BoBeen Lee"}],["$","meta",null,{"name":"description","content":"Front-end developer, TypeScript enthusiast"}],null,null,null,null,["$","meta",null,{"name":"keywords","content":"BoBeen Lee, React, React Native, Typescript, Javascript"}],null,[["$","meta",null,{"name":"theme-color","content":"#111827"}]],null,["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1, shrink-to-fit=no"}],null,null,["$","meta",null,{"name":"robots","content":"follow, index"}],null,null,null,null,null,null,null,[]],[["$","link",null,{"rel":"canonical","href":"https://bbl-nx.vercel.app/"}],null,null,null],null,null,[null,null,null,null,null],null,[null,["$","meta",null,{"property":"og:title","content":"BoBeen Lee"}],["$","meta",null,{"property":"og:description","content":"Front-end developer, TypeScript enthusiast"}],["$","meta",null,{"property":"og:url","content":"https://bbl-nx.vercel.app/"}],["$","meta",null,{"property":"og:site_name","content":"BoBeen Lee"}],null,null,null,[[["$","meta",null,{"property":"og:image","content":"https://bbl-nx.vercel.app/assets/quokka.webp"}]]],null,null,null,null,null,null,["$","meta",null,{"property":"og:type","content":"website"}]],[["$","meta",null,{"name":"twitter:card","content":"summary_large_image"}],["$","meta",null,{"name":"twitter:site","content":"@BoBeenLee"}],null,["$","meta",null,{"name":"twitter:creator","content":"@BoBeenLee"}],null,["$","meta",null,{"name":"twitter:title","content":"BoBeen Lee"}],["$","meta",null,{"name":"twitter:description","content":"Front-end developer, TypeScript enthusiast"}],[[["$","meta",null,{"name":"twitter:image","content":"https://bbl-nx.vercel.app/assets/quokka.webp"}],null]],null,null],null,[null,[["$","link",null,{"rel":"icon","href":"/favicons/favicon.ico"}],["$","link",null,{"rel":"icon","href":"/favicons/apple-icon-180x180.png","sizes":"180x180"}],["$","link",null,{"rel":"icon","href":"/favicons/favicon-32x32.png","type":"image/png","sizes":"32x32"}],["$","link",null,{"rel":"icon","href":"/favicons/favicon-16x16.png","type":"image/png","sizes":"16x16"}],["$","link",null,{"rel":"icon","href":"/favicons/manifest.json"}],["$","link",null,{"rel":"icon","href":"/static/favicons/favicon.svg"}]],[],null]]
1:[["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":[null,["$","body",null,{"className":"text-white bg-white dark:bg-gray-900 dark:text-black","children":[["$","$L3",null,{"attribute":"class","defaultTheme":"system","enableSystem":true,"children":["$","div",null,{"className":"flex flex-col flex-1 bg-white dark:bg-gray-900","children":[["$","$L4",null,{}],["$","main",null,{"className":"flex flex-col justify-center flex-1 px-8 bg-white dark:bg-gray-900","children":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children"],"hasLoading":false,"template":["$","$L6",null,{}],"notFound":["$","div",null,{"className":"flex flex-col items-center w-full max-w-2xl py-12 mx-auto sm:py-20 sm:mb-16","children":[["$","h1",null,{"className":"font-bold text-3xl md:text-5xl tracking-tight mb-4 text-black dark:text-white","children":"Something went Wrong."}],["$","div",null,{"className":"mb-8 text-gray-600 dark:text-gray-400","children":"I'm guessing you spelled something wrong. Can you double check\n      that URL?"}],["$","$L7",null,{"className":"w-64 p-1 mx-auto font-bold text-center text-black bg-gray-200 rounded-md sm:p-4 dark:bg-gray-800 dark:text-white","href":"/","children":"Home"}]]}],"notFoundStyles":[],"childProp":{"current":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"hasLoading":false,"template":["$","$L6",null,{}],"childProp":{"current":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children",["id","react-prod-staging-dev-env-setting","d"],"children"],"hasLoading":false,"template":["$","$L6",null,{}],"childProp":{"current":["$L8",null,null,[]],"segment":""}}],"segment":["id","react-prod-staging-dev-env-setting","d"]}}],"segment":"blog"}}]}],["$","$L9",null,{}]]}]}],["$","$La",null,{"async":true,"strategy":"afterInteractive","src":"https://www.googletagmanager.com/gtag/js?id=G-TZZNKPFDD5"}],["$","$La",null,{"id":"gtag","async":true,"strategy":"afterInteractive","dangerouslySetInnerHTML":{"__html":"\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag(){dataLayer.push(arguments);}\ngtag('js', new Date());\n\ngtag('config', 'G-TZZNKPFDD5');\n      "}}]]}]]}],null,null,[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/7fc6f9585b0bc593.css","precedence":"next.js"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/be7ec14a9e7399cd.css","precedence":"next.js"}]]]
b:I{"id":"7964","chunks":["730:730-f0f598528cc484dd","964:964-fb81438760ba2bf7","880:app/project/page-7f19be5b34bbfb13"],"name":"","async":false}
8:["$","div",null,{"className":"flex flex-col items-start flex-1 w-full max-w-2xl mx-auto mb-8 border-gray-200 sm:mb-12 dark:border-gray-700","children":[["$","a",null,{"className":"pb-2 font-bold text-3xl tracking-tigh text-black dark:text-white","children":"React prod, staging, dev 환경 설정하기"}],["$","div",null,{"className":"flex flex-row items-center justify-between w-full mt-2","children":[["$","div",null,{"className":"flex flex-row items-center","children":[["$","div",null,{"className":"w-6 h-6 relative rounded-full overflow-hidden","children":["$","$Lb",null,{"alt":"avatar","fill":true,"src":"/assets/quokka.png","priority":true}]}],["$","p",null,{"className":"ml-2 text-sm text-gray-600 dark:text-gray-400","children":"BoBeen Lee"}]]}],["$","p",null,{"className":"text-sm text-gray-600 dark:text-gray-400","children":"July 8, 2018"}]]}],["$","article",null,{"className":"w-full mt-4 prose dark:prose-dark max-w-none","dangerouslySetInnerHTML":{"__html":"<p>React prod, staging, dev 환경 설정하기</p>\n<p><a href=\"https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/template/README.md#adding-custom-environment-variables\">crn</a>, <a href=\"https://movie.naver.com/movie/bi/mi/basic.nhn?code=115622\">crna</a>에서 외부 환경 설정을 추가하는 방법에 대해 다룬다.\nprod, dev환경 별 환경변수를 받으러면\ncrn같은 경우 기본적으로 <a href=\"https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/template/README.md#what-other-env-files-can-be-used\">.env.local, .env.development, .env.production, .env.test</a>을 제공해주는거 같고\ncrna는 각 환경에 따른 환경 설정을 하려면 <a href=\"https://github.com/luggit/react-native-config\">react native config</a>나 <a href=\"https://github.com/zetachang/react-native-dotenv\">react native dotenv</a>(.env만 사용가능함)를 이용할 수 있겠다.</p>\n<p>만일 staging 환경을 추가하고 싶다라는 고민에서 기본적으로 제공하는 문서로는 다루기가 힘든다라는 것을 알고 다른 방안을 찾아보게 되었다.</p>\n<ul>\n<li>React App</li>\n</ul>\n<p><a href=\"https://github.com/BoBeenLee/environment-config-example/blob/react/package.json\">package.json</a></p>\n<pre><code>...\n \"scripts\": {\n    \"start\": \"cp ./.env.dev ./.env &#x26;&#x26; react-scripts start\",\n    \"start:staging\": \"cp ./.env.staging ./.env &#x26;&#x26; react-scripts start\",\n    \"start:production\": \"cp ./.env.prod ./.env &#x26;&#x26; react-scripts start\",\n  }\n...\n</code></pre>\n<p>스크립트 단에서 실행방법을 나누고 cp로 .env에 복사 후 각 환경별로 환경변수를 받고 실행하는 방법이다. \n내가 발견한 것들 중에 가장 깔끔한? 방법인거 같고 코드에 영향도도 가장 적고 관리하는데 가장 좋은 방법이라 생각한다.</p>\n<ul>\n<li>React Native App</li>\n</ul>\n<p><a href=\"https://github.com/BoBeenLee/environment-config-example/blob/react-native/package.json\">package.json</a></p>\n<pre><code>...\n\"scripts\": {\n    \"start\": \"./scripts/pre-build.sh development &#x26;&#x26; react-native-scripts start\",\n    \"start:staging\": \"./scripts/pre-build.sh staging &#x26;&#x26; react-native-scripts start\",\n    \"start:production\": \"./scripts/pre-build.sh production &#x26;&#x26; react-native-scripts start\",\n  },\n...\n</code></pre>\n<p>react native는 쉘 스크립트를 이용한 관리 방법이다.\n<a href=\"https://github.com/BoBeenLee/environment-config-example/blob/react-native/scripts/pre-build.sh\">pre-build.sh</a>는 환경별로 REACT_NATIVE_ENV키 값을 생성하여 <a href=\"https://github.com/BoBeenLee/environment-config-example/blob/react-native/config.json\">config.json</a>에 덮어씌운다.\n그리고 <a href=\"https://github.com/BoBeenLee/environment-config-example/blob/react-native/environment.js\">environment.js</a>을 만들어 환경별 필요한 변수들을 세팅하여 전달한다.</p>\n<h3>dotenv나 config라이브러리를 사용하지 않았던 이유</h3>\n<ul>\n<li>react native config\n물론 getting started 보고 설정하면 원활히 동작할 수 있겠지만 관리 측면에서 react native config 호환도 유지해야한다는 점에 오히려 불편하다는 걸 알게되었다. 그런 이유로 사용하지 않았던거같다.</li>\n<li>dotenv\ncrn은 내부적으로 설정 되어있지만 한정적인 설정밖에 안되어 이용하기 불편했던거같다. (ex) .env.staging 설정) \nreact native dotenv는 <a href=\"https://github.com/zetachang/react-native-dotenv\">.env만 사용가능</a>하여 제외 대상이었다.\n물론 아래와 같은 식으로 환경변수를 .env에 전달 받는 방법도 있겠다.\n.env</li>\n</ul>\n<pre><code>REACT_ENV=$REACT_ENV\n</code></pre>\n<p>package.json</p>\n<pre><code>\"scripts\": {\n\t\"start\": \"REACT_ENV=staging &#x26;&#x26; react-scripts start\"\n}\n</code></pre>\n<p>다만 react native에는 OS 환경에 환경변수 설정 후 appcenter환경에서 빌드 시엔 정상적으로 인식을 못했던거같다. ( react-native-dotenv의 이슈인지 정확히 모르겠지만 )</p>\n<p>환경별 환경변수 설정은 다양한 방법이 존재하겠지만 아직까진 위와 같은 방법이 가장 심플한 경험을 받았다.\n각 환경별 환경변수 설정 Example을 공유한다.</p>\n<p>React</p>\n<ul>\n<li><a href=\"https://github.com/BoBeenLee/environment-config-example/tree/react\">https://github.com/BoBeenLee/environment-config-example/tree/react</a></li>\n</ul>\n<p>React Native</p>\n<ul>\n<li><a href=\"https://github.com/BoBeenLee/environment-config-example/tree/react-native\">https://github.com/BoBeenLee/environment-config-example/tree/react-native</a></li>\n</ul>\n<p>Node</p>\n<ul>\n<li><a href=\"https://github.com/BoBeenLee/environment-config-example/tree/node\">https://github.com/BoBeenLee/environment-config-example/tree/node</a></li>\n</ul>\n"}}]]}]
